(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[308],{5380:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=5380,e.exports=t},8902:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return I}});var n=o(7294),r=o(9253),a=o(6561),l=o(2574),s=o(2728),i=o(3972),p=o(3838),c=o(7645),d=o(7750),m=o(6408),u=o(8979),h=o(5116),Z=o(5949),y=o(5893),g=(0,Z.Z)((0,y.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),f=o(8168),x=o(6446),b=o(1391),k=o(2433),v=o(6867),C=(0,Z.Z)((0,y.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),w=o(917);const A=e=>{let{showAI:t,setShowAI:o}=e;const{0:r,1:a}=(0,n.useState)("deepseek"),l=[{value:"deepseek",label:"DeepSeek",url:"https://chat.deepseek.com/"},{value:"you",label:"You.com",url:"https://you.com/"}],p=l.find((e=>e.value===r));return(0,w.tZ)(s.Z,{sx:{flex:1,border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden",height:"600px"}},(0,w.tZ)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #ccc",height:"48px",position:"relative"}},(0,w.tZ)(i.Z,{variant:"h6",component:"h2",sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,margin:0}},"AI Chat"),(0,w.tZ)(s.Z,{sx:{position:"absolute",right:0,display:"flex",alignItems:"center",gap:1}},(0,w.tZ)(x.Z,{variant:"outlined",sx:{minWidth:100,height:"36px"}}," ",(0,w.tZ)(b.Z,{value:r,onChange:e=>{a(e.target.value)},sx:{height:"100%",display:"flex",alignItems:"center",fontSize:"0.875rem",padding:"6px 32px 6px 12px"}},l.map((e=>(0,w.tZ)(k.Z,{key:e.value,value:e.value,sx:{fontSize:"0.875rem"}},e.label))))),(0,w.tZ)(v.Z,{onClick:()=>o(!1),sx:{color:"primary.main"}},(0,w.tZ)(C,null)))),(0,w.tZ)(s.Z,{sx:{height:"calc(100% - 48px)"}},(0,w.tZ)("iframe",{src:p.url,title:p.label,width:"100%",height:"100%",style:{border:"none"}})))};var P=o(377),M=o(7370),O=o(2093),S=o(587);var D=e=>{let{location:t,placeholder:o,defaultFiles:r,renderEditor:a,renderPreview:Z,inputSystemPrompt:y=""}=e;const{0:x,1:b}=(0,n.useState)({prompt:"",enhancedPrompt:"",files:r,snackbarOpen:!1,snackbarMessage:"",snackbarSeverity:"info",systemPrompt:y,showCodeEditor:!0,showAppOutput:!0,showAI:!0,loginModalOpen:!1,user:null,isAppDeployed:!1,deployModalOpen:!1,isDeploying:!1,deployStatusMessage:"",isPromoting:!1,promoteModalOpen:!1,src:o,dest:"",token:""}),{prompt:k,enhancedPrompt:v,files:C,snackbarOpen:D,snackbarMessage:E,snackbarSeverity:I,systemPrompt:_,showCodeEditor:R,showAppOutput:j,showAI:L,loginModalOpen:T,user:U,isAppDeployed:B,deployModalOpen:F,isDeploying:W,deployStatusMessage:z,isPromoting:H,promoteModalOpen:N,src:V,dest:Y,token:q}=x,J=new URLSearchParams(t.search),X=J.has("p")&&B,G=J.get("prompt");(0,n.useEffect)((()=>{(async()=>{try{const e=await O.Z.Cloud.run("getApp",{id:o});null!=e&&e.files&&Object.keys(e.files).length>0?b((t=>({...t,files:e.files,isAppDeployed:!0}))):b((e=>({...e,isAppDeployed:!1})))}catch(e){console.error("Error fetching app data:",e),b((e=>({...e,isAppDeployed:!1})))}})()}),[o]),(0,n.useEffect)((()=>{const e=Object.values(C).map((e=>e.code)).join("\n\n")+"\n\n"+k+"\n\n"+_;b((t=>({...t,enhancedPrompt:e})))}),[C,k,_]),(0,n.useEffect)((()=>{const e=O.Z.User.current();e&&b((t=>({...t,user:e})))}),[]),(0,n.useEffect)((()=>{G&&b((e=>({...e,systemPrompt:G})))}),[G]);const K=()=>{b((e=>({...e,promoteModalOpen:!1})))},Q=e=>{const{name:t,value:o}=e.target;b((e=>({...e,[t]:o})))};return(0,w.tZ)(S.Z,{deployButton:(0,w.tZ)(l.Z,{variant:"contained",onClick:()=>{b((e=>({...e,deployModalOpen:!0})))}},"Deploy"),promoteButton:X&&(0,w.tZ)(l.Z,{variant:"contained",color:"secondary",onClick:()=>{b((e=>({...e,promoteModalOpen:!0})))},disabled:H},"Promote")},(0,w.tZ)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh",textAlign:"center"}},R&&(0,w.tZ)(s.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},width:"100%",gap:2,mb:4}},a(C,((e,t)=>{b((o=>({...o,files:{...o.files,[e]:{code:t}}})))})),Z(C)),(0,w.tZ)(s.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},width:"100%",gap:2,mt:2}},(0,w.tZ)(s.Z,{sx:{flex:2}},(0,w.tZ)(P.q,{prompt:k,setPrompt:e=>b((t=>({...t,prompt:e}))),enhancedPrompt:v,handleCopyPrompt:()=>{navigator.clipboard.writeText(v).then((()=>{b((e=>({...e,snackbarMessage:"Prompt copied to clipboard!",snackbarSeverity:"success",snackbarOpen:!0})))}))},systemPrompt:_,setSystemPrompt:e=>b((t=>({...t,systemPrompt:e})))})),L&&(0,w.tZ)(s.Z,{sx:{flex:1}},(0,w.tZ)(i.Z,{variant:"h5",component:"h2",gutterBottom:!0},"Step 3: Paste to AI"),(0,w.tZ)(A,{showAI:L,setShowAI:e=>b((t=>({...t,showAI:e})))}))),z&&(0,w.tZ)(i.Z,{variant:"body1",color:"textSecondary"},z),(0,w.tZ)(s.Z,{sx:{display:"flex",gap:2,mb:2}},!R&&(0,w.tZ)(l.Z,{variant:"outlined",onClick:()=>b((e=>({...e,showCodeEditor:!0}))),startIcon:(0,w.tZ)(g,null)},"Show Code Editor"),!j&&(0,w.tZ)(l.Z,{variant:"outlined",onClick:()=>b((e=>({...e,showAppOutput:!0}))),startIcon:(0,w.tZ)(g,null)},"Show App Output"))),(0,w.tZ)(M.Z,{open:T,onClose:()=>b((e=>({...e,loginModalOpen:!1}))),onLoginSuccess:()=>{const e=O.Z.User.current();b((t=>({...t,user:e})))}}),(0,w.tZ)(p.Z,{open:F,onClose:()=>b((e=>({...e,deployModalOpen:!1})))},(0,w.tZ)(c.Z,null,"Bookmark This App"),(0,w.tZ)(d.Z,null,(0,w.tZ)(m.Z,null,"Before deploying, we recommend bookmarking this app to avoid losing it. Press ",(0,w.tZ)("strong",null,"Ctrl+D")," (Windows/Linux) or ",(0,w.tZ)("strong",null,"Cmd+D")," (Mac) to bookmark this page. Once Deployed, there will be a link beside the app name.")),(0,w.tZ)(u.Z,null,(0,w.tZ)(l.Z,{onClick:()=>b((e=>({...e,deployModalOpen:!1})))},"Cancel"),(0,w.tZ)(l.Z,{onClick:()=>{b((e=>({...e,deployModalOpen:!1,isDeploying:!0}))),(async()=>{try{const e=await O.Z.Cloud.run("deployApp",{files:C,placeholder:o});b((e=>({...e,snackbarMessage:"App deployed successfully!",snackbarSeverity:"success",snackbarOpen:!0,isAppDeployed:!0,deployStatusMessage:"A link will appear beside the app name"}))),setTimeout((()=>{b((e=>({...e,deployStatusMessage:""})))}),3e3),console.log("Deployment result:",e)}catch(e){b((e=>({...e,snackbarMessage:"Failed to deploy app. Please try again.",snackbarSeverity:"error",snackbarOpen:!0}))),console.error("Deployment error:",e)}})()},color:"primary",variant:"contained"},"Deploy"))),(0,w.tZ)(p.Z,{open:N,onClose:K},(0,w.tZ)(c.Z,null,"Promote App"),(0,w.tZ)(d.Z,null,(0,w.tZ)(h.Z,{fullWidth:!0,label:"Source App ID",name:"src",value:V+"/index.html",onChange:Q,margin:"normal",disabled:!0}),(0,w.tZ)(h.Z,{fullWidth:!0,label:"Destination App ID",name:"dest",value:""+Y,onChange:Q,margin:"normal"}),(0,w.tZ)(h.Z,{fullWidth:!0,label:"Token",name:"token",value:q,onChange:Q,margin:"normal"})),(0,w.tZ)(u.Z,null,(0,w.tZ)(l.Z,{onClick:K},"Cancel"),(0,w.tZ)(l.Z,{onClick:async()=>{b((e=>({...e,isPromoting:!0})));try{const e=await O.Z.Cloud.run("copyApp",{src:V,dest:Y,token:q});b((e=>({...e,snackbarMessage:"App promoted successfully!",snackbarSeverity:"success",snackbarOpen:!0,isPromoting:!1,promoteModalOpen:!1}))),console.log("Promotion result:",e)}catch(e){b((e=>({...e,snackbarMessage:"Failed to promote app. Please try again.",snackbarSeverity:"error",snackbarOpen:!0,isPromoting:!1}))),console.error("Promotion error:",e)}},color:"primary",variant:"contained",disabled:H},H?"Promoting...":"Promote"))),(0,w.tZ)(f.r,{open:D,message:E,severity:I,onClose:()=>b((e=>({...e,snackbarOpen:!1})))}))},E=o(2175);var I=e=>{let{location:t,placeholder:o}=e;const{0:l,1:i}=(0,n.useState)({"/App.js":{code:"import React from 'react';\n\nconst App = () => {\n  return (\n    <div>\n      <h1>Welcome to React App!</h1>\n      <p>Edit this code to build your React application.</p>\n    </div>\n  );\n};\n\nexport default App;"},"/index.html":{code:'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>React App</title>\n</head>\n<body>\n  <div id="root"></div>\n</body>\n</html>'}}),p=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(p.current){const e=p.current;e.addEventListener("load",(()=>{const t=e.contentDocument;t.body.innerHTML=l["/index.html"].code,console.log("Iframe content set:",t.body.innerHTML);try{const e=(0,E.transform)(l["/App.js"].code,{presets:["react"]}).code;console.log("Compiled code:",e);const o=t.createElement("script");o.type="module",o.textContent='\n            import React from \'https://unpkg.com/react@18/umd/react.production.min.js\';\n            import ReactDOM from \'https://unpkg.com/react-dom@18/umd/react-dom.production.min.js\';\n            const App = () => { return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", null, "Welcome to React App!"), /*#__PURE__*/React.createElement("p", null, "Edit this code to build your React application.")); };\n  \n            ReactDOM.render(<App />, document.getElementById(\'root\'));\n          ',o.onerror=e=>{console.error("Error loading script:",e)},console.log("Script content:",o.textContent),t.body.appendChild(o)}catch(o){console.error("Error compiling JSX:",o)}}))}}),[l]);const c=(e,t)=>{i((o=>({...o,[e]:{code:t}})))};return(0,w.tZ)(n.Fragment,null,(0,w.tZ)(D,{location:t,placeholder:o,defaultFiles:l,renderEditor:e=>((e,t)=>(0,w.tZ)(s.Z,{sx:{flex:1,height:{xs:"300px",md:"600px"},border:"1px solid #ccc"}},(0,w.tZ)(r.ZP,{height:"100%",width:"100%",theme:"vs-light",defaultLanguage:"javascript",value:e["/App.js"].code,onChange:e=>t("/App.js",e),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1}})))(e,c),renderPreview:()=>(0,w.tZ)(s.Z,{sx:{flex:1,height:{xs:"300px",md:"600px"},border:"1px solid #ccc"}},(0,w.tZ)(a.ZP,{ref:p,style:{width:"100%",height:"100%",border:"none"}},(0,w.tZ)("div",{dangerouslySetInnerHTML:{__html:l["/index.html"].code}}))),inputSystemPrompt:"create a react component with good design in one file"}),(0,E.transform)(l["/App.js"].code,{presets:["react"]}).code)}}}]);
//# sourceMappingURL=component---src-pages-dev-[placeholder]-js-7f8c820bce1466700b08.js.map