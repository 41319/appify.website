"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[524],{4159:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var o=n(7294),s=n(2964),a=n(2574),r=n(2728),l=n(3972),i=n(3838),p=n(7645),c=n(7750),d=n(6408),m=n(8979),u=n(5116),h=n(2186),y=n(8168),g=(n(4757),n(9457));const Z='\n<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Welcome to AppSeek</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      background-color: #f0f0f0;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100vh;\n      margin: 0;\n      flex-direction: column;\n      text-align: center;\n    }\n    h1 {\n      color: #1976d2;\n      margin-bottom: 20px;\n    }\n    .instructions {\n      background-color: #fff;\n      padding: 20px;\n      border-radius: 8px;\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n      max-width: 600px;\n      width: 100%;\n    }\n    .instructions p {\n      margin: 10px 0;\n      line-height: 1.6;\n    }\n    .instructions code {\n      background-color: #f5f5f5;\n      padding: 4px 8px;\n      border-radius: 4px;\n      font-family: monospace;\n    }\n  </style>\n</head>\n<body>\n  <h1>Welcome to AppSeek</h1>\n  <div class="instructions">\n    <p>Follow these steps to create your application:</p>\n    <ol>\n      <li>\n        <strong>Step 1: Describe Your App</strong>\n        <p>In the <strong>"Step 1: What you want to do?"</strong> section, describe the application you want to build. For example:</p>\n        <code>"Create a to-do list app with a dark theme."</code>\n      </li>\n      <li>\n        <strong>Step 2: Copy the Enhanced Prompt</strong>\n        <p>Once you describe your app, the <strong>"Step 2: Copy this"</strong> section will generate an enhanced prompt. Copy this prompt and paste it into the AI chat.</p>\n      </li>\n      <li>\n        <strong>Step 3: Build Your App</strong>\n        <p>Use the AI-generated code to build your app. You can edit the code in the <strong>Code Editor</strong> and see the live preview in the <strong>Your Awesome App</strong> section.</p>\n      </li>\n      <li>\n        <strong>Step 4: Deploy Your App</strong>\n        <p>Once your app is ready, click the <strong>Deploy</strong> button to publish it.</p>\n      </li>\n    </ol>\n    <p>Happy coding! ðŸš€</p>\n  </div>\n  <script>\n    console.log(\'AppSeek is ready to help you build amazing apps!\');\n  <\/script>\n</body>\n</html>\n'.trim();var b=n(7370),f=n(2093),k=n(9253),x=n(6561),w=n(917);var v=e=>{let{location:t,placeholder:n}=e;const{0:v,1:C}=(0,o.useState)({prompt:"",enhancedPrompt:"",files:{"/index.html":{code:Z},"/style.css":{code:""},"/script.js":{code:""}},snackbarOpen:!1,snackbarMessage:"",snackbarSeverity:"info",systemPrompt:"create web application in a single html file, making sure UI is properly align and user experience is taken care of",showCodeEditor:!0,showAppOutput:!0,showAI:!0,loginModalOpen:!1,user:null,isAppDeployed:!1,deployModalOpen:!1,isDeploying:!1,deployStatusMessage:"",isPromoting:!1,promoteModalOpen:!1,src:n,dest:"",token:""}),O=(0,o.useRef)(null),{0:A,1:P}=(0,o.useState)(!1),{prompt:S,enhancedPrompt:D,files:M,snackbarOpen:E,snackbarMessage:j,snackbarSeverity:I,systemPrompt:T,showCodeEditor:F,showAppOutput:L,showAI:U,loginModalOpen:W,user:Y,isAppDeployed:B,deployModalOpen:_,isDeploying:z,deployStatusMessage:H,isPromoting:R,promoteModalOpen:q,src:G,dest:J,token:K}=v,N=new URLSearchParams(t.search),Q=N.has("p")&&B,V=N.get("prompt");(0,o.useEffect)((()=>{(async()=>{try{const e=await f.Z.Cloud.run("getApp",{id:n});if(null!=e&&e.files&&Object.keys(e.files).length>0){const t={"/index.html":{code:e.files["index.html"]||e.files["/index.html"]||Z},"/style.css":{code:e.files["style.css"]||e.files["/style.css"]||""},"/script.js":{code:e.files["script.js"]||e.files["/script.js"]||""}};C((e=>({...e,files:t,isAppDeployed:!0})))}else C((e=>({...e,isAppDeployed:!1,files:{"/index.html":{code:Z},"/style.css":{code:""},"/script.js":{code:""}}})))}catch(e){console.error("Error fetching app data:",e),C((e=>({...e,isAppDeployed:!1,files:{"/index.html":{code:Z},"/style.css":{code:""},"/script.js":{code:""}},snackbarMessage:"Failed to load app data",snackbarSeverity:"error",snackbarOpen:!0})))}})()}),[n]),(0,o.useEffect)((()=>{const e=Object.values(M).map((e=>e.code)).join("\n\n")+"\n\n"+S+"\n\n"+T;C((t=>({...t,enhancedPrompt:e})))}),[M,S,T]),(0,o.useEffect)((()=>{const e=f.Z.User.current();e&&C((t=>({...t,user:e})))}),[]),(0,o.useEffect)((()=>{V&&C((e=>({...e,systemPrompt:V})))}),[V]);const X=()=>{C((e=>({...e,promoteModalOpen:!1})))},$=e=>{const{name:t,value:n}=e.target;C((e=>({...e,[t]:n})))};return(0,w.tZ)(s.Z,{deployButton:(0,w.tZ)(a.Z,{variant:"contained",onClick:()=>{C((e=>({...e,deployModalOpen:!0})))}},"Deploy"),promoteButton:Q&&(0,w.tZ)(a.Z,{variant:"contained",color:"secondary",onClick:()=>{C((e=>({...e,promoteModalOpen:!0})))},disabled:R},"Promote")},(0,w.tZ)(r.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh",textAlign:"center"}},F&&(0,w.tZ)(r.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},width:"100%",gap:2,mb:4}},(0,w.tZ)(r.Z,{sx:{flex:1,height:{xs:"300px",md:"600px"},border:"1px solid #ccc"}},(0,w.tZ)(k.ZP,{height:"100%",width:"100%",theme:"vs-light",defaultLanguage:"html",value:M["/index.html"].code,onChange:e=>{return t="/index.html",n=e,void C((e=>({...e,files:{...e.files,[t]:{code:n}}})));var t,n},options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1}})),(0,w.tZ)(r.Z,{sx:{flex:1,height:{xs:"300px",md:"600px"},border:"1px solid #ccc"}},(0,w.tZ)(x.ZP,{ref:O,style:{width:"100%",height:"100%",border:"none"},initialContent:(()=>{const{code:e=""}=M["/index.html"]||{},{code:t=""}=M["/style.css"]||{},{code:n=""}=M["/script.js"]||{};return'<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <style>'+t+"</style>\n</head>\n<body>\n  "+e+"\n  <script>"+n+"<\/script>\n</body>\n</html>"})(),onLoad:()=>{P(!0)},mountTarget:"#mount-target"},A&&(0,w.tZ)("div",{id:"mount-target"})))),(0,w.tZ)(r.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},width:"100%",gap:2,mt:2}},(0,w.tZ)(r.Z,{sx:{flex:2}},(0,w.tZ)(g.q,{prompt:S,setPrompt:e=>C((t=>({...t,prompt:e}))),enhancedPrompt:D,handleCopyPrompt:()=>{navigator.clipboard.writeText(D).then((()=>{C((e=>({...e,snackbarMessage:"Prompt copied to clipboard!",snackbarSeverity:"success",snackbarOpen:!0})))})).catch((()=>{C((e=>({...e,snackbarMessage:"Failed to copy prompt",snackbarSeverity:"error",snackbarOpen:!0})))}))},systemPrompt:T,setSystemPrompt:e=>C((t=>({...t,systemPrompt:e})))}))),H&&(0,w.tZ)(l.Z,{variant:"body1",color:"textSecondary"},H),(0,w.tZ)(r.Z,{sx:{display:"flex",gap:2,mb:2}},!F&&(0,w.tZ)(a.Z,{variant:"outlined",onClick:()=>C((e=>({...e,showCodeEditor:!0}))),startIcon:(0,w.tZ)(h.Z,null)},"Show Code Editor"),!L&&(0,w.tZ)(a.Z,{variant:"outlined",onClick:()=>C((e=>({...e,showAppOutput:!0}))),startIcon:(0,w.tZ)(h.Z,null)},"Show App Output"))),(0,w.tZ)(b.Z,{open:W,onClose:()=>C((e=>({...e,loginModalOpen:!1}))),onLoginSuccess:()=>{const e=f.Z.User.current();C((t=>({...t,user:e,loginModalOpen:!1})))}}),(0,w.tZ)(i.Z,{open:_,onClose:()=>C((e=>({...e,deployModalOpen:!1})))},(0,w.tZ)(p.Z,null,"Bookmark This App"),(0,w.tZ)(c.Z,null,(0,w.tZ)(d.Z,null,"Before deploying, we recommend bookmarking this app to avoid losing it. Press ",(0,w.tZ)("strong",null,"Ctrl+D")," (Windows/Linux) or ",(0,w.tZ)("strong",null,"Cmd+D")," (Mac) to bookmark this page. Once Deployed, there will be a link beside the app name.")),(0,w.tZ)(m.Z,null,(0,w.tZ)(a.Z,{onClick:()=>C((e=>({...e,deployModalOpen:!1})))},"Cancel"),(0,w.tZ)(a.Z,{onClick:()=>{C((e=>({...e,deployModalOpen:!1,isDeploying:!0}))),(async()=>{try{const e=await f.Z.Cloud.run("deployApp",{files:M,placeholder:n});C((e=>({...e,snackbarMessage:"App deployed successfully!",snackbarSeverity:"success",snackbarOpen:!0,isAppDeployed:!0,deployStatusMessage:"A link will appear beside the app name",isDeploying:!1}))),setTimeout((()=>{C((e=>({...e,deployStatusMessage:""})))}),3e3),console.log("Deployment result:",e)}catch(e){C((e=>({...e,snackbarMessage:"Failed to deploy app. Please try again.",snackbarSeverity:"error",snackbarOpen:!0,isDeploying:!1}))),console.error("Deployment error:",e)}})()},color:"primary",variant:"contained",disabled:z},z?"Deploying...":"Deploy"))),(0,w.tZ)(i.Z,{open:q,onClose:X},(0,w.tZ)(p.Z,null,"Promote App"),(0,w.tZ)(c.Z,null,(0,w.tZ)(u.Z,{fullWidth:!0,label:"Source App ID",name:"src",value:G+"/index.html",onChange:$,margin:"normal",disabled:!0}),(0,w.tZ)(u.Z,{fullWidth:!0,label:"Destination App ID",name:"dest",value:J,onChange:$,margin:"normal"}),(0,w.tZ)(u.Z,{fullWidth:!0,label:"Token",name:"token",value:K,onChange:$,margin:"normal"})),(0,w.tZ)(m.Z,null,(0,w.tZ)(a.Z,{onClick:X},"Cancel"),(0,w.tZ)(a.Z,{onClick:async()=>{C((e=>({...e,isPromoting:!0})));try{const e=await f.Z.Cloud.run("copyApp",{src:G,dest:J,token:K});C((e=>({...e,snackbarMessage:"App promoted successfully!",snackbarSeverity:"success",snackbarOpen:!0,isPromoting:!1,promoteModalOpen:!1}))),console.log("Promotion result:",e)}catch(e){C((e=>({...e,snackbarMessage:"Failed to promote app. Please try again.",snackbarSeverity:"error",snackbarOpen:!0,isPromoting:!1}))),console.error("Promotion error:",e)}},color:"primary",variant:"contained",disabled:R},R?"Promoting...":"Promote"))),(0,w.tZ)(y.r,{open:E,message:j,severity:I,onClose:()=>C((e=>({...e,snackbarOpen:!1})))}))}}}]);
//# sourceMappingURL=component---src-pages-app-[placeholder]-js-3333cedd050b6d1c7db5.js.map